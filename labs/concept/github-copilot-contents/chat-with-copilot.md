
# Chat with Copilot (Create the new controller

## Exercise 1: Create a new controller

1. Open the Spring Boot project in Visual Studio Code.
2. From the left sidebar, click on the **Copilot Chat**.
3. in the input box, type the following message:

```
@workspace create a controller 'randomcontroller' that provide url to random 5 numbers as json array
```

4. Press `Enter` to send the message.
5. You will see the code generated by Copilot in the chat window with explaination of the code.

```java
package th.in.nextflow.NextflowBoot.controller;

import org.springframework.web.bind.annotation.GetMapping;
import org.springframework.web.bind.annotation.RestController;

import java.util.Random;
import java.util.stream.IntStream;

@RestController
public class RandomController {

    @GetMapping("/random-numbers")
    public int[] getRandomNumbers() {
        Random random = new Random();
        return IntStream.generate(() -> random.nextInt(100)) // Generate random numbers between 0 and 99
                        .limit(5)
                        .toArray();
    }
}
```

6. If possible:
   1. use **Create in new file** menu in the suggested code block to create the file in the workspace.
   2. Save file in `src/main/java/th/in/nextflow/NextflowBoot/controller/RandomController.java`

## Exercise 2: Use suggested command in terminal

1. back to the chat window, you will ask copilot to run the project by typing the following message:

```
@workspace run the project
```

2. If possible: 
   1. Use **Run in terminal** menu in the suggested code block to run the project in the terminal.

3. You should see the Spring Boot application running in the terminal.


## Exercise 3: Test the API with suggested CURL command 

1. back to the chat window, you will ask copilot to test the API by typing the following message:

```
Generate curl command to test this route mapping
```

2. If you got the curl command, you can copy and paste the command to the terminal to test the API.
